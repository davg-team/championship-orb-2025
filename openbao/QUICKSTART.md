# OpenBao - –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

## üöÄ Dev-—Ä–µ–∂–∏–º (—Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏!** –ù–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

```bash
docker-compose up -d
```

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –¢–æ–∫–µ–Ω: `root-token-for-dev`
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Docker volume
- ‚úÖ –ù–µ –Ω—É–∂–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

---

## üîí Production —Ä–µ–∂–∏–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, —Å–º. [SETUP.md](SETUP.md)

---

## üöÄ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è production —Ä–µ–∂–∏–º–∞)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d openbao

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
docker exec -it openbao bao -address http://127.0.0.1:8200 operator init

# ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –í–°–ï –∫–ª—é—á–∏ –∏ Root Token!
```

## üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–∫–∞–∂–¥—ã–π —Ä–∞–∑)

```bash
# –†—É—á–Ω–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–Ω—É–∂–Ω—ã 3 –∏–∑ 5 –∫–ª—é—á–µ–π)
docker exec -it openbao bao -address http://127.0.0.1:8200 operator unseal <key1>
docker exec -it openbao bao -address http://127.0.0.1:8200 operator unseal <key2>
docker exec -it openbao bao -address http://127.0.0.1:8200 operator unseal <key3>

# –ò–õ–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ .openbao-keys)
bash openbao/unseal.sh
```

## üìù –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
cp openbao/.openbao-keys.example openbao/.openbao-keys

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à–∏ 3 –∫–ª—é—á–∞ –≤ —Ñ–∞–π–ª .openbao-keys

# 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
bash openbao/unseal.sh
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
docker exec -it openbao bao -address http://127.0.0.1:8200 status

# –ï—Å–ª–∏ "Sealed: false" - –≤—Å—ë –û–ö!
```

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –≤ nginx (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ `/vault` –ø—É—Ç—å)

---

## üíæ –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

- ‚úÖ –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –¢–æ–∫–µ–Ω—ã

–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Docker volume `openbao_data` –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–ï –¢–ï–†–Ø–ô–¢–ï** unseal keys –∏ root token - –±–µ–∑ –Ω–∏—Ö –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω!
2. **–ù–ï –ö–û–ú–ò–¢–¨–¢–ï** —Ñ–∞–π–ª `.openbao-keys` –≤ git (–æ–Ω —É–∂–µ –≤ .gitignore)
3. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω—É–∂–Ω–∞ **—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**
4. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å auto-unseal —Å –≤–Ω–µ—à–Ω–∏–º KMS
